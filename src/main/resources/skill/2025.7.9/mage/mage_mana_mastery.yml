__option__:
  # 技能名称
  name: "法力精通"
  # 是否异步执行
  async: false
  # 图标配置
  icon-formatter:
    # 物品材质
    material: LAPIS_LAZULI
    # 显示名称
    name: "法力精通"
    # 描述信息
    lore:
      - "技能等级 ${&level}"
      - "法力值上限提升 ${*mana_bonus}"
      - "法力回复速度提升 ${*regen_bonus}%"
      - "技能消耗减少 ${*cost_reduction}%"
      - "被动技能：提升法力相关能力"
  # 技能分类
  category:
    - "法师"
    - "被动技能"
  # 变量定义
  variables:
    # 法力值上限加成
    mana_bonus: 50 + &level * 10
    # 法力回复速度加成百分比
    regen_bonus: 20 + &level * 5
    # 技能消耗减少百分比
    cost_reduction: 5 + &level * 2
    # 属性持续时间(永久)
    duration: -1
# 技能脚本
action: |
  fn main() {
    # 被动技能在学习时自动激活
    activatePassive()
  }
  fn activatePassive() {
    # 添加法力值上限加成属性
    attribute add "法力精通_法力值上限" duration *duration 法力值上限+*mana_bonus at @self
    # 添加法力回复速度加成属性
    attribute add "法力精通_法力回复" duration *duration 法力回复+*regen_bonus at @self
    # 添加技能消耗减少属性
    attribute add "法力精通_技能消耗减少" duration *duration 技能消耗减少+*cost_reduction at @self
    # 发送激活消息
    sender :: sendMessage("法力精通被动技能已激活！")
  }
  fn deactivatePassive() {
    # 移除法力值上限加成属性
    attribute remove "法力精通_法力值上限"
    # 移除法力回复速度加成属性
    attribute remove "法力精通_法力回复"
    # 移除技能消耗减少属性
    attribute remove "法力精通_技能消耗减少"
    # 发送停用消息
    sender :: sendMessage("法力精通被动技能已停用。")
  }
