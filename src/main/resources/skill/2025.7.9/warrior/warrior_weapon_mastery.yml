__option__:
  # 技能名称
  name: "武器精通"
  # 是否异步执行
  async: false
  # 图标配置
  icon-formatter:
    # 物品材质
    material: ENCHANTED_BOOK
    # 显示名称
    name: "武器精通"
    # 描述信息
    lore:
      - "技能等级 ${&level}"
      - "武器伤害提升 ${*weapon_damage}%"
      - "攻击速度提升 ${*attack_speed}%"
      - "被动技能：提升武器使用熟练度"
  # 技能分类
  category:
    - "战士"
    - "被动技能"
  # 变量定义
  variables:
    # 武器伤害提升百分比
    weapon_damage: 5 + &level * 2
    # 攻击速度提升百分比
    attack_speed: 3 + &level * 1
    # 属性持续时间(永久)
    duration: -1
# 技能脚本
action: |
  fn main() {
    # 被动技能在学习时自动激活
    activatePassive()
  }
  fn activatePassive() {
    # 添加武器伤害提升属性
    attribute add "武器精通_武器伤害" duration *duration 武器伤害+*weapon_damage at @self
    # 添加攻击速度提升属性
    attribute add "武器精通_攻击速度" duration *duration 攻击速度+*attack_speed at @self
    # 发送激活消息
    sender :: sendMessage("武器精通被动技能已激活！")
  }
  fn deactivatePassive() {
    # 移除武器伤害提升属性
    attribute remove "武器精通_武器伤害"
    # 移除攻击速度提升属性
    attribute remove "武器精通_攻击速度"
    # 发送停用消息
    sender :: sendMessage("武器精通被动技能已停用。")
  }
